# 감정 기반 음악 추천 챗봇

사용자의 감정 상태를 분석하고, 해당 감정에 어울리는 음악을 Spotify에서 추천해주는 챗봇입니다. 본 프로젝트는 감정 분석 모델, 챗봇 인터페이스, Spotify API 기반 추천 시스템으로 구성되어 있으며, Flask를 활용해 웹 인터페이스로 구현하였습니다.

## 팀원

- 김유담 (32220981)  
- 이철진 (32213627)  
- 최인준 (32214636)  

## 프로젝트 개요

- 자연어 입력에서 사용자의 감정을 분류한 후, 해당 감정에 어울리는 음악을 추천합니다.
- 사용자의 감정은 별도의 분류 모델을 통해 예측되며, 추천기는 Spotify에서 관련 플레이리스트를 검색하여 곡 정보를 제공합니다.
- 모든 기능은 웹 환경에서 테스트 가능하도록 Flask 서버 및 HTML/JavaScript 프론트엔드를 구성하였습니다.

## 기술 스택

- 감정 분석 모델: KoELECTRA + IA3 (Fine-tuning)
- 음악 추천 시스템: Spotify Web API (Spotipy)
- 챗봇 응답 생성: OpenAI GPT-3.5 Turbo API
- 웹 서버 및 UI: Flask, HTML, JavaScript
- 버전 관리: Git + GitHub (feature 브랜치 전략)

## 주요 기능

### 감정 분석기 (`feature/emotion`)

- KoELECTRA 모델에 IA3 파인튜닝 기법 적용
- 학습 데이터: AI-HUB 공감형 대화 데이터셋
- 감정 분류는 기쁨, 슬픔, 분노 세 가지로 제한
- 총 36,000개 데이터를 활용해 학습, 정확도는 약 69%
- 감정 예측 확률 출력 기능 포함
- 모델 및 토크나이저는 Huggingface에 업로드 완료

### 챗봇 (`feature/chatbot`)

- GPT-3.5 Turbo를 사용하여 자연스러운 대화 흐름 구현
- 초기 프롬프트를 설정하여 감정 분석에 적합한 자연어 대화 유도
- 사용자의 입력을 메시지 리스트에 저장하여 대화 맥락 유지
- 챗봇 응답 직후 감정 분석 및 추천 시스템과 연계

### 음악 추천기 (`feature/recommender`)

- Spotify API를 활용해 감정별 플레이리스트 검색
- 감정별로 다섯 개의 검색어 쿼리를 미리 정의하여 랜덤 검색
- 검색된 플레이리스트 중 무작위 하나 선택, 50곡 불러와 그 중 1곡 추천
- 종교적 콘텐츠 필터링(예: '찬양' 키워드 포함 플레이리스트 제거)
- 쿨다운 기능 도입: 10분 이내 재추천 제한
- 감정 누적 기준 도입: 동일 감정이 60% 이상의 확률로 두 번 이상 발생 시 추천기 작동

### 웹 인터페이스 (`feature/website`)

- 사용자 입력을 받아 Flask 서버로 전달
- 서버는 감정 분석 및 음악 추천 결과를 JSON으로 반환
- 응답은 JavaScript를 통해 채팅창에 출력
- 간단한 채팅 기반 인터페이스 구현


